# 投資損益小幫手 - 使用指南

歡迎使用投資損益小幫手！本指南將幫助你快速上手這款簡單易用的投資追蹤工具。

## 功能概述

投資損益小幫手提供以下核心功能：

1. **持股管理**：追蹤你目前持有的股票，包括成本價、數量和市值
2. **即時股價更新**：自動獲取最新股價，計算未實現損益
3. **已實現收益記錄**：手動紀錄已賣出股票的收益
4. **圖表分析**：通過圖表直觀展示持股分配、總體損益和收益趨勢
5. **資料匯入/匯出**：支援 Excel 格式的資料備份和還原

## 使用指南

### 1. 持股管理

#### 新增持股

1. 在「持股管理」頁面，點擊「+ 新增持股」按鈕
2. 填寫股票資訊：
   - 股票代碼（例如：2330.TW、AAPL）
   - 股票名稱（例如：台積電、蘋果）
   - 市場（台股/美股/其他）
   - 成本價（每股購買價格）
   - 持有股數
   - 購買日期（選填）
3. 點擊「儲存」按鈕

#### 編輯或刪除持股

- 點擊持股列表中的「編輯」按鈕可修改持股資訊
- 點擊「刪除」按鈕可移除持股記錄（會有確認提示）

#### 更新股價

- 點擊「更新價格」按鈕可手動更新所有股票的即時價格
- 頁面載入時會自動更新一次價格，之後每 5 分鐘自動更新一次

### 2. 已實現收益

#### 新增已實現收益

1. 在「已實現收益」頁面，點擊「+ 新增已實現收益」按鈕
2. 填寫交易資訊：
   - 股票代碼
   - 股票名稱
   - 賣出價格（每股）
   - 數量
   - 成本（總成本，非單位成本）
   - 賣出日期
3. 點擊「儲存」按鈕
4. 系統會自動計算實現損益和報酬率

#### 編輯或刪除已實現收益記錄

- 點擊記錄列表中的「編輯」按鈕可修改交易資訊
- 點擊「刪除」按鈕可移除交易記錄（會有確認提示）

### 3. 圖表分析

「圖表分析」頁面提供三種不同的圖表視圖：

1. **持股分配**：圓餅圖展示當前持股的市值分配，幫助你了解投資組合的多樣化程度
2. **總體損益**：條形圖展示未實現損益、已實現收益和總體損益，直觀對比各類收益
3. **已實現收益趨勢**：折線圖展示已實現收益的累計趨勢，反映投資獲利的時間分布

點擊頁面上方的標籤切換不同圖表。

### 4. 資料匯入/匯出

#### 匯出資料（備份）

1. 點擊頁面頂部的「匯出資料」按鈕
2. 系統會自動下載一個 Excel 檔案（投資損益資料.xlsx）
3. 檔案包含兩個工作表：「持股紀錄」和「已實現收益」

#### 匯入資料（還原）

1. 點擊頁面頂部的「匯入資料」按鈕
2. 選擇之前匯出的 Excel 檔案
3. 系統會解析檔案並載入資料，覆蓋當前的資料

**注意**：請確保匯入的 Excel 檔案格式正確，最好使用通過「匯出資料」功能生成的檔案。

## 資料存儲說明

所有資料存儲在瀏覽器的本地存儲（LocalStorage）中，不會上傳到任何伺服器。這意味著：

- 資料只存在於你的瀏覽器中
- 清除瀏覽器數據會導致資料丟失
- 不同裝置或瀏覽器之間不會自動同步資料

因此，建議定期使用「匯出資料」功能備份你的投資記錄。

## 使用技巧

1. **台股代碼格式**：台股代碼請使用「代碼.TW」格式（例如：2330.TW），以確保正確獲取股價
2. **美股代碼格式**：美股代碼直接輸入即可（例如：AAPL、MSFT）
3. **價格更新**：若發現價格未更新，可點擊「更新價格」按鈕手動觸發更新
4. **持股成本計算**：系統使用「平均成本法」計算持股成本，若需使用其他計算方法，可手動調整成本價
5. **已實現收益輸入**：填寫「總成本」時，應輸入賣出股票的總成本，而非單位成本

## 常見問題

**Q: 為什麼股價資料顯示「載入中...」很久？**  
A: 可能是網路連接問題或 Yahoo Finance API 限流。請稍後再試或手動刷新頁面。

**Q: 我的資料會自動同步到其他裝置嗎？**  
A: 不會。資料存儲在本地，需要通過「匯出/匯入」功能手動同步。

**Q: 如何在不同瀏覽器間轉移資料？**  
A: 在原瀏覽器中匯出資料，然後在新瀏覽器中匯入該檔案。

**Q: 可以追蹤股息嗎？**  
A: 目前版本不支援股息追蹤，但你可以將股息記錄為「已實現收益」。

**Q: 為什麼某些股票無法獲取價格？**  
A: 確保股票代碼格式正確（台股加上.TW後綴）。某些小型或新上市的股票可能在 Yahoo Finance API 中沒有資料。 